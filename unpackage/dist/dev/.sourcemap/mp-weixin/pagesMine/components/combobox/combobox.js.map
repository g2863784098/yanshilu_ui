{"version":3,"file":"combobox.js","sources":["pagesMine/components/combobox/combobox.vue","/Users/ghw/Documents/waibao/yanshilu_ui/pagesMine/components/combobox/combobox.vue?type=component"],"sourcesContent":["<template name=\"ChoiceSelected\">\n    <!-- 自定义下拉选择框 start-->\n    <view class=\"selected-all\" @click.stop @touchmove=\"handlePageScroll\">\n        <view :class=\"isShowChoice ? 'drop-down-box-selected' : 'drop-down-box'\" @click=\"btnShowHideClick\" ref=\"dropdownTrigger\">\n            <!-- 统一的内容容器 -->\n            <view class=\"input-content-wrapper\">\n                <!-- 纯下拉选择模式 -->\n                <text v-if=\"mode === 'select'\" :class=\"[choiceIndex === -1 ? 'input-placeholder' : 'input-placeholder-selected']\" >{{displayContent}}</text>\n                \n                <!-- 搜索筛选模式 -->\n                <input \n                    v-else\n                    type=\"text\" \n                    class=\"input-text\" \n                    v-model=\"searchKeyword\" \n                    :placeholder=\"searchPlaceholder\" \n                    @input=\"onSearchInput\" \n                    @focus=\"onInputFocus\"/>\n            </view>\n            \n            <!-- 统一的箭头图标 -->\n            <view class=\"arrow-container\">\n                <image class=\"dropdown-icon\" :class=\"{'dropdown-icon-rotate': isShowChoice}\" src=\"/static/image/arrow/arrow_down.svg\" mode=\"widthFix\"></image>\n            </view>\n        </view>\n        <!-- 弹框内容 -->\n        <view class=\"dialog-view\" :class=\"{active: isShowChoice}\" v-if=\"isShowChoice\" :style=\"{\n            top: dropdownTop + 'px',\n            left: dropdownLeft + 'px',\n            width: dropdownWidth + 'px'\n        }\" @click.stop>\n            <scroll-view \n                scroll-y=\"true\" \n                class=\"dialog-scroll\" \n                @scrolltolower=\"onScrollToBottom\" \n                ref=\"scrollView\">\n                <view v-if=\"pagedChoiceList.length > 0\">\n                    <text class=\"dialog-title\" :class=\"{'dialog-title-selected': choiceIndex == findOriginalIndex(item)}\"\n                        v-for=\"(item, index) in pagedChoiceList\" :key=\"index\" @click=\"btnChoiceClick(index)\">\n                        {{typeof item === 'string' ? item : item.choiceItemContent}}\n                    </text>\n                </view>\n                <view v-else class=\"empty-result\">\n                    <text class=\"empty-result-text\">无匹配数据</text>\n                </view>\n                \n                <!-- 加载更多提示 -->\n                <view v-if=\"isLoadingMore\" class=\"loading-more\">\n                    <text class=\"loading-text\">加载中...</text>\n                </view>\n            </scroll-view>\n        </view>\n    </view>\n    <!-- 自定义下拉选择框 end -->\n</template>\n\n<script lang=\"uts\">\n    \n    let dropdownInstances = [];\n    \n    export default {\n        name: \"ChoiceSelected\",\n        components: {\n        },\n        data() {\n            return {\n                isShowChoice: false,\n                dropdownTop: 0,\n                dropdownLeft: 0,\n                dropdownWidth: 0,\n                displayContent: this.defaultText, // 使用传入的默认文本\n                searchKeyword: this.defaultSearchValue || '', // 初始化搜索关键词，优先使用defaultSearchValue\n                searchTimer: null, // 防抖定时器\n                isFocused: false, // 是否处于聚焦状态\n                lastSelectedValue: null, // 上次选中的值，用于检测变化\n                \n                // 分页相关\n                pageSize: 10, // 每页显示数量\n                currentPage: 1, // 当前页码\n                isLoadingMore: false, // 是否正在加载更多\n                hasMoreItems: true, // 是否还有更多数据\n                \n                // 滚动监听\n                pageScrollListener: null // 页面滚动监听器\n            };\n        },\n        props: {\n            choiceIndex: {\n                type: Number,\n                default: -1 // 默认-1表示未选择\n            },\n            choiceList: {\n                type: Array,\n                default: () => []\n            },\n            defaultText: {\n                type: String,\n                default: '请选择'\n            },\n            mode: {\n                type: String,\n                default: 'select', // 'select' | 'search'\n                validator: (value) => ['select', 'search'].includes(value)\n            },\n            debounce: {\n                type: Number,\n                default: 300\n            },\n            searchPlaceholder: {\n                type: String,\n                default: '请输入关键词'\n            },\n            // 新增属性：组件类型，用于区分不同数据模式\n            componentType: {\n                type: String,\n                default: 'default', // 'default' | 'undergraduate' | 'graduateSchool' | 'graduateMajor'\n                validator: (value) => ['default', 'undergraduate', 'graduateSchool', 'graduateMajor'].includes(value)\n            },\n            // 新增属性：父级选择的值，用于联动模式\n            parentValue: {\n                type: [String, Object, Number],\n                default: null\n            },\n            // 新增属性：是否属于联动模式\n            isLinkage: {\n                type: Boolean,\n                default: false\n            },\n            // 新增属性：是否自动关闭其他下拉框\n            autoCloseOthers: {\n                type: Boolean,\n                default: true\n            },\n            // 新增属性：是否启用分页加载功能\n            enablePagination: {\n                type: Boolean,\n                default: true\n            },\n            // 新增属性：默认搜索值，当有值时直接显示但保持搜索功能\n            defaultSearchValue: {\n                type: String,\n                default: ''\n            }\n        },\n        created() {\n            // 将当前实例添加到实例数组，便于全局管理\n            dropdownInstances.push(this);\n            \n            // 注册全局触摸开始事件用于检测滚动\n            uni.$on('page-scroll', this.handlePageScroll);\n        },\n        beforeUnmount() {\n            // 解绑全局事件\n            uni.$off('page-scroll', this.handlePageScroll);\n            \n            // 移除当前实例\n            const index = dropdownInstances.indexOf(this);\n            if (index > -1) {\n                dropdownInstances.splice(index, 1);\n            }\n            // 清除防抖定时器\n            if (this.searchTimer) {\n                clearTimeout(this.searchTimer);\n            }\n        },\n        computed: {\n            /**\n             * @description 获取当前页的选项列表\n             * @returns {Array} 分页后的选项列表\n             */\n            pagedChoiceList() {\n                if (!this.enablePagination) {\n                    return this.choiceList;\n                }\n                \n                const startIndex = 0;\n                const endIndex = this.currentPage * this.pageSize;\n                \n                return this.choiceList.slice(startIndex, endIndex);\n            }\n        },\n        watch: {\n            choiceIndex(newVal) {\n                // 当choiceIndex变化时更新显示内容\n                if (newVal >= 0 && newVal < this.choiceList.length) {\n                    const selectedItem = this.choiceList[newVal];\n                    this.displayContent = typeof selectedItem === 'string' ? selectedItem : selectedItem.choiceItemContent;\n                    \n                    // 保存上次选中的值\n                    this.lastSelectedValue = selectedItem;\n                    \n                    // 在搜索模式下，设置搜索关键词为选中项\n                    if (this.mode === 'search') {\n                        this.searchKeyword = typeof selectedItem === 'string' ? selectedItem : selectedItem.choiceItemContent;\n                    }\n                    \n                    // 如果是联动模式的父级组件，触发联动事件\n                    if (this.componentType === 'graduateSchool') {\n                        this.$emit('linkage-change', selectedItem);\n                    }\n                } else {\n                    this.displayContent = this.defaultText;\n                    this.lastSelectedValue = null;\n                    if (this.mode === 'search') {\n                        this.searchKeyword = this.defaultSearchValue || '';\n                    }\n                    \n                    // 如果是联动模式的父级组件，触发联动事件（清空）\n                    if (this.componentType === 'graduateSchool') {\n                        this.$emit('linkage-change', null);\n                    }\n                }\n            },\n            defaultText(newVal) {\n                // 如果当前没有选择任何选项，更新默认文本\n                if (this.choiceIndex < 0 || this.choiceIndex >= this.choiceList.length) {\n                    this.displayContent = newVal;\n                }\n            },\n            // 监听父级选择变化，适用于联动模式\n            parentValue(newVal) {\n                if (this.isLinkage && this.componentType === 'graduateMajor') {\n                    // 父级值变化，清空当前选择\n                    this.searchKeyword = this.defaultSearchValue || '';\n                    this.displayContent = this.defaultText;\n                    this.$emit('reset-selection');\n                }\n            },\n            // 监听选项列表变化，重新计算显示内容\n            choiceList() {\n                // 如果选项列表变化，且当前有选中项，更新显示内容\n                this.updateDisplayContent();\n            },\n            // 监听搜索关键词变化，重置分页\n            searchKeyword() {\n                this.resetPagination();\n            },\n            // 监听defaultSearchValue变化\n            defaultSearchValue(newVal) {\n                // 仅当没有选中项或搜索关键词为空时更新搜索关键词\n                if ((this.choiceIndex < 0 || this.choiceIndex >= this.choiceList.length) && !this.searchKeyword) {\n                    this.searchKeyword = newVal || '';\n                    \n                    // 如果有新的默认值，并且当前下拉列表已打开，则触发一次搜索\n                    if (newVal && this.isShowChoice) {\n                        this.onSearchInput({});\n                    }\n                }\n            }\n        },\n        methods: {\n            /**\n             * @description 处理页面滚动事件\n             * 当页面滚动时关闭下拉框\n             */\n            handlePageScroll() {\n                if (this.isShowChoice) {\n                    this.closeDropdown();\n                }\n            },\n            \n            /**\n             * @description 重置分页状态\n             */\n            resetPagination() {\n                this.currentPage = 1;\n                this.isLoadingMore = false;\n                this.hasMoreItems = this.choiceList.length > this.pageSize;\n            },\n            \n            /**\n             * @description 加载更多数据\n             */\n            loadMore() {\n                if (!this.hasMoreItems || this.isLoadingMore) return;\n                \n                this.isLoadingMore = true;\n                \n                // 模拟异步加载更多数据\n                setTimeout(() => {\n                    this.currentPage++;\n                    this.isLoadingMore = false;\n                    \n                    // 更新是否还有更多数据的状态\n                    this.hasMoreItems = this.choiceList.length > this.currentPage * this.pageSize;\n                }, 300);\n            },\n            \n            /**\n             * @description 处理滚动到底部事件\n             */\n            onScrollToBottom() {\n                if (this.enablePagination) {\n                    this.loadMore();\n                }\n            },\n            \n            /**\n             * @description 查找选项在原始列表中的索引\n             * @param {*} item - 选项项\n             * @returns {Number} 原始索引位置\n             */\n            findOriginalIndex(item) {\n                if (typeof item === 'string') {\n                    return this.choiceList.findIndex(originalItem => \n                        typeof originalItem === 'string' && originalItem === item\n                    );\n                } else if (item && item.choiceItemId) {\n                    return this.choiceList.findIndex(originalItem => \n                        originalItem && originalItem.choiceItemId && originalItem.choiceItemId === item.choiceItemId\n                    );\n                }\n                return -1;\n            },\n            \n            /**\n             * @description 更新显示内容，在选项列表变化时调用\n             */\n            updateDisplayContent() {\n                if (this.choiceIndex >= 0 && this.choiceIndex < this.choiceList.length) {\n                    const selectedItem = this.choiceList[this.choiceIndex];\n                    this.displayContent = typeof selectedItem === 'string' ? selectedItem : selectedItem.choiceItemContent;\n                } else {\n                    this.displayContent = this.defaultText;\n                }\n            },\n            \n            /**\n             * @description 处理选项点击事件，关闭下拉框并触发选择事件\n             * @param {Number} position - 选中项的索引位置\n             */\n            btnChoiceClick: function(position) {\n                var _this = this;\n                _this.isShowChoice = false;\n                \n                const selectedItem = _this.pagedChoiceList[position];\n                \n                // 在搜索模式下，我们需要找出在原始列表中的实际位置\n                if (_this.mode === 'search' && _this.searchKeyword) {\n                    if (typeof selectedItem === 'string') {\n                        // 字符串项，直接查找原始列表中的匹配项\n                        const originalIndex = _this.choiceList.findIndex(item => \n                            typeof item === 'string' && item === selectedItem\n                        );\n                        if (originalIndex !== -1) {\n                            _this.$emit(\"onChoiceClick\", originalIndex, selectedItem);\n                            return;\n                        }\n                    } else if (selectedItem && selectedItem.choiceItemId) {\n                        // 对象项，通过ID查找\n                        const originalIndex = _this.choiceList.findIndex(item => \n                            item && item.choiceItemId && item.choiceItemId === selectedItem.choiceItemId\n                        );\n                        if (originalIndex !== -1) {\n                            _this.$emit(\"onChoiceClick\", originalIndex, selectedItem);\n                            return;\n                        }\n                    }\n                }\n                \n                // 对于普通模式或未找到匹配项，使用当前位置\n                _this.$emit(\"onChoiceClick\", position, selectedItem);\n            },\n            \n            /**\n             * @description 切换下拉框的显示与隐藏状态\n             * @param {Event} event - 点击事件对象\n             */\n            btnShowHideClick: function(event) {\n                // 阻止事件冒泡\n                event.stopPropagation();\n                \n                var _this = this;\n                if (_this.isShowChoice) {\n                    _this.isShowChoice = false;\n                } else {\n                    // 关闭其他所有下拉框（如果启用了自动关闭）\n                    if (this.autoCloseOthers) {\n                        this.closeOtherDropdowns();\n                    }\n                    \n                    // 重置分页状态\n                    this.resetPagination();\n                    \n                    // 使用uni.createSelectorQuery获取触发按钮的位置和尺寸\n                    const query = uni.createSelectorQuery().in(this);\n                    query.select('.drop-down-box, .drop-down-box-selected').boundingClientRect(data => {\n                        if (data) {\n                            _this.dropdownTop = data.top + data.height;\n                            _this.dropdownLeft = data.left;\n                            _this.dropdownWidth = data.width;\n                            _this.isShowChoice = true;\n                            \n                            // 如果有默认搜索值并且当前没有搜索关键词，则立即触发一次搜索\n                            if (_this.defaultSearchValue && !_this.searchKeyword) {\n                                _this.searchKeyword = _this.defaultSearchValue;\n                                _this.onSearchInput(event);\n                            }\n                        }\n                    }).exec();\n                }\n            },\n            \n            /**\n             * @description 关闭其他下拉框，只保留当前实例的下拉框\n             */\n            closeOtherDropdowns() {\n                dropdownInstances.forEach(instance => {\n                    if (instance !== this && instance.isShowChoice) {\n                        instance.isShowChoice = false;\n                    }\n                });\n            },\n            \n            /**\n             * @description 处理搜索输入事件，带防抖\n             * @param {Event} event - 输入事件对象\n             */\n            onSearchInput(event) {\n                const _this = this;\n                \n                // 清除之前的定时器\n                if (_this.searchTimer) {\n                    clearTimeout(_this.searchTimer);\n                }\n                \n                // 设置防抖定时器\n                _this.searchTimer = setTimeout(() => {\n                    uni.__f__('log','at pagesMine/components/combobox/combobox.vue:429','发送搜索请求:', _this.searchKeyword);\n                    \n                    // 触发搜索输入事件\n                    _this.$emit('search-input', _this.searchKeyword);\n                    \n                    // 确保下拉框处于打开状态\n                    if (!_this.isShowChoice) {\n                        _this.btnShowHideClick(event);\n                    }\n                }, _this.debounce);\n            },\n            \n            /**\n             * @description 处理输入框聚焦事件\n             * @param {Event} event - 聚焦事件对象\n             */\n            onInputFocus(event) {\n                this.isFocused = true;\n                // 如果下拉框未显示，阻止下拉框被关闭\n                event.stopPropagation();\n                \n                // 使用KeyboardWatcher的openWhenReady方法\n                if (!this.isShowChoice && this.$refs.keyboardWatcher) {\n                    this.$refs.keyboardWatcher.openWhenReady(this);\n                }\n            },\n            \n            /**\n             * @description 关闭当前下拉框\n             * @public 供外部调用\n             */\n            closeDropdown() {\n                if (this.isShowChoice) {\n                    this.isShowChoice = false;\n                }\n            },\n            \n            /**\n             * @description 重置组件状态\n             * @public 供外部调用\n             */\n            reset() {\n                this.searchKeyword = this.defaultSearchValue || '';\n                this.displayContent = this.defaultText;\n                this.isShowChoice = false;\n                this.lastSelectedValue = null;\n                this.resetPagination();\n                this.$emit('reset-selection');\n            },\n            \n            /**\n             * @description 获取当前选中的值\n             * @returns {*} 当前选中的值\n             * @public 供外部调用\n             */\n            getSelectedValue() {\n                if (this.choiceIndex >= 0 && this.choiceIndex < this.choiceList.length) {\n                    return this.choiceList[this.choiceIndex];\n                }\n                return null;\n            },\n            \n            /**\n             * @description 公开方法，供KeyboardWatcher调用以打开下拉框\n             * @public\n             */\n            openDropdown() {\n                // 使用现有的按钮点击方法，但创建一个合成事件对象\n                const syntheticEvent = {\n                    stopPropagation: () => {}\n                };\n                this.btnShowHideClick(syntheticEvent);\n            }\n        }\n    }\n</script>\n\n<style>\n    /* end */\n    .dialog-title-selected {\n        color: white;\n        font-size: 28rpx;\n        padding-left: 20rpx;\n        padding-top: 8rpx;\n        padding-bottom: 8rpx;\n        padding-right: 15rpx;\n        background-color: #55ffff;\n    }\n\n    .dialog-title {\n        color: black;\n        font-size: 28rpx;\n        padding-left: 20rpx;\n        padding-top: 8rpx;\n        padding-bottom: 8rpx;\n        padding-right: 15rpx;\n        background-color: white;\n    }\n    \n    .dialog-scroll {\n        width: 100%;\n        max-height: 300rpx; /* 限制滚动区域的最大高度 */\n        -webkit-overflow-scrolling: touch; /* 提升iOS滚动体验 */\n    }\n\n    .dialog-view {\n        display: flex;\n        flex-direction: column;\n        border: 2rpx solid #F0AD4E;\n        box-sizing: border-box;\n        position: fixed;\n        z-index: 9999;\n        background-color: #ffffff;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        max-height: 400rpx; /* 限制整个下拉框的最大高度 */\n        transform-origin: top center;\n        opacity: 0;\n        transform: scaleY(0);\n        transition: all 0.2s ease;\n        overflow: hidden; /* 确保内容不会溢出 */\n        border-radius: 0 0 10rpx 10rpx; /* 增加底部圆角 */\n    }\n    \n    .dialog-view.active {\n        opacity: 1;\n        transform: scaleY(1);\n    }\n\n    .dropdown-icon {\n        width: 26rpx;\n        height: 26rpx;\n        margin-left: 5rpx;\n        margin-right: 10rpx;\n        transition: transform 0.3s ease;\n        flex-shrink: 0;\n    }\n    \n    .dropdown-icon-rotate {\n        transform: rotate(180deg);\n    }\n\n    /* 统一的内容容器 */\n    .input-content-wrapper {\n        flex: 1;\n        height: 70rpx;\n        display: flex;\n        align-items: center;\n        box-sizing: border-box;\n    }\n    \n    /* 统一的文本样式 */\n    .input-text {\n        font-family: PingFang SC;\n        flex: 1;\n        font-size: 28rpx;\n        color: rgba(0, 0, 0, 1);\n        height: 50rpx;\n        line-height: 50rpx;\n        padding-left: 20rpx;\n        text-align: left;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    \n    .input-placeholder {\n        flex: 1;\n        font-size: 28rpx;\n        color: rgba(0, 0, 0, 0.5);\n        height: 50rpx;\n        line-height: 50rpx;\n        padding-left: 20rpx;\n        text-align: left;\n        width: 100%;\n        box-sizing: border-box;\n        margin-top: 10rpx;\n    }\n    .input-placeholder-selected {\n        flex: 1;\n        font-size: 28rpx;\n        color: rgba(0, 0, 0, 1);\n        height: 50rpx;\n        line-height: 50rpx;\n        padding-left: 20rpx;\n        text-align: left;\n        width: 100%;\n        box-sizing: border-box;\n        margin-top: 10rpx;\n    }\n\n    .drop-down-box-selected {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        height: 70rpx;\n        width: 100%;\n        border: 2rpx solid #F0AD4E;\n        box-sizing: border-box;\n        padding: 0 10rpx;\n        border-radius: 10rpx;\n    }\n\n    .drop-down-box {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        height: 70rpx;\n        width: 100%;\n        border-radius: 10rpx;\n        box-sizing: border-box;\n        padding: 0 10rpx;\n    }\n\n    .selected-all {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100%;\n        background-color: rgba(255, 255, 255, 1);\n        border: 2rpx solid rgba(151, 151, 151, 1);\n        border-radius: 8rpx;\n    }\n    \n    /* 箭头容器 */\n    .arrow-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-left: 5rpx;\n        width: 30rpx;\n        height: 10rpx;\n        flex-shrink: 0;\n        z-index: 2;\n    }\n    \n    .empty-result {\n        display: flex;\n        justify-content: center;\n        padding: 20rpx 0;\n    }\n    \n    .empty-result-text {\n        color: #999;\n        font-size: 28rpx;\n    }\n    \n    /* 加载更多样式 */\n    .loading-more {\n        display: flex;\n        justify-content: center;\n        padding: 10rpx 0;\n        background-color: #f8f8f8;\n    }\n    \n    .loading-text {\n        color: #999;\n        font-size: 24rpx;\n    }\n\n    /* start */\n</style>\n ","import Component from '/Users/ghw/Documents/waibao/yanshilu_ui/pagesMine/components/combobox/combobox.vue'\nwx.createComponent(Component)"],"names":["defineComponent","uni"],"mappings":"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"}
{"version":3,"file":"http.js","sources":["utils/http.js"],"sourcesContent":["// @/utils/http.js\nimport { UPLOAD_FILE_URL } from '@/store/user/API.js';\n\nexport const http = (options) => {\n    return new Promise((resolve, reject) => {\n        uni.request({\n            url: baseURL + options.url,\n            method: options.method || 'GET',\n            data: options.data || {},\n            header: options.header || {\n                'Content-Type': 'application/json'\n            },\n            success: (res) => {\n                if (res.statusCode === 200) {\n                    resolve(res.data);\n                } else {\n                    reject(res.data);\n                }\n            },\n            fail: (err) => {\n                reject(err);\n            }\n        });\n    });\n};\n\nexport const uploadFile = (filePath, userId, fileType = 'file') => {\n    return new Promise((resolve, reject) => {\n        uni.uploadFile({\n            url: UPLOAD_FILE_URL,\n            filePath,\n            name: fileType,\n            formData: {\n                userId: userId\n            },\n            success: (res) => {\n                const data = JSON.parse(res.data);\n                if (data.code === 200) {\n                    resolve(data);\n                } else {\n                    reject(data);\n                }\n            },\n            fail: (err) => {\n                reject(err);\n            }\n        });\n    });\n};\n"],"names":["uni","UPLOAD_FILE_URL"],"mappings":";;;AA0BY,MAAC,aAAa,CAAC,UAAU,QAAQ,WAAW,WAAW;AAC/D,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpCA,kBAAAA,MAAI,WAAW;AAAA,MACX,KAAKC,eAAe;AAAA,MACpB;AAAA,MACA,MAAM;AAAA,MACN,UAAU;AAAA,QACN;AAAA,MACH;AAAA,MACD,SAAS,CAAC,QAAQ;AACd,cAAM,OAAO,KAAK,MAAM,IAAI,IAAI;AAChC,YAAI,KAAK,SAAS,KAAK;AACnB,kBAAQ,IAAI;AAAA,QAChC,OAAuB;AACH,iBAAO,IAAI;AAAA,QACd;AAAA,MACJ;AAAA,MACD,MAAM,CAAC,QAAQ;AACX,eAAO,GAAG;AAAA,MACb;AAAA,IACb,CAAS;AAAA,EACT,CAAK;AACL;;"}
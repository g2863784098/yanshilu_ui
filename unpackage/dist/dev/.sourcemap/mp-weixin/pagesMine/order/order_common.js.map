{"version":3,"file":"order_common.js","sources":["pagesMine/order/order_common.vue","pagesMine/order/order_common.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 顶部导航 -->\n    <Header class=\"header-container\" :title=\"'我的订单'\" @back=\"goBack\" />\n    \n    <!-- 使用top-navbar组件 -->\n    <top-navbar \n      @change=\"onTabChange\" \n      :navHeight=\"60\" \n      :userRole=\"userRole\"\n      :customTabs=\"userRole === 'student' ? tabs.map(tab => ({name: tab})) : teacherTabs.map(tab => ({name: tab}))\"\n    >\n      <!-- 学生：待支付tab内容 -->\n      <template v-slot:page1>\n        <view class=\"page-content\">\n          <scroll-view class=\"order-list\" scroll-y>\n            <!-- 学生订单内容 -->\n            <template v-if=\"userRole === 'student'\">\n              <view v-for=\"(order, index) in orders\" :key=\"index\" class=\"order-item\" v-show=\"currentTab === 0\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-teacher\">授课教师：{{ order.teacherName || '暂无' }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"cancel-btn\" @click=\"cancelOrder(order)\">取消订单</button>\n                  <button class=\"pay-btn\" @click=\"payOrder(order)\">马上付款</button>\n                </view>\n              </view>\n            </template>\n            \n            <!-- 老师订单内容 -->\n            <template v-else>\n              <view v-for=\"(order, index) in teacherOrders\" :key=\"index\" class=\"order-item\" v-show=\"teacherCurrentTab === 0\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-student\">学生：{{ order.studentName }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"confirm-btn\" @click=\"confirmOrder(order)\">取消订单</button>\n                </view>\n              </view>\n            </template>\n          </scroll-view>\n        </view>\n      </template>\n      \n      <!-- 已支付/已完成tab内容 -->\n      <template v-slot:page2>\n        <view class=\"page-content\">\n          <scroll-view class=\"order-list\" scroll-y>\n            <!-- 学生订单内容 -->\n            <template v-if=\"userRole === 'student'\">\n              <view v-for=\"(order, index) in orders\" :key=\"index\" class=\"order-item\" v-show=\"currentTab === 1\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                        <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-teacher\">授课教师：{{ order.teacherName || '暂无' }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"appraise-btn\" @click=\"goToAppraise(order)\">去评价</button>\n                </view>\n              </view>\n            </template>\n            \n            <!-- 老师订单内容 -->\n            <template v-else>\n              <view v-for=\"(order, index) in teacherOrders\" :key=\"index\" class=\"order-item\" v-show=\"teacherCurrentTab === 1\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-student\">学生：{{ order.studentName }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"detail-btn\" @click=\"viewDetail(order)\">查看详情</button>\n                </view>\n              </view>\n            </template>\n          </scroll-view>\n        </view>\n      </template>\n      \n      <!-- 已完成/已取消tab内容 -->\n      <template v-slot:page3>\n        <view class=\"page-content\">\n          <scroll-view class=\"order-list\" scroll-y>\n            <!-- 学生订单内容 -->\n            <template v-if=\"userRole === 'student'\">\n              <view v-for=\"(order, index) in orders\" :key=\"index\" class=\"order-item\" v-show=\"currentTab === 2\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-teacher\">授课教师：{{ order.teacherName || '暂无' }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"detail-btn\" @click=\"viewDetail(order)\">查看详情</button>\n                </view>\n              </view>\n            </template>\n            \n            <!-- 老师订单内容 -->\n            <template v-else>\n              <view v-for=\"(order, index) in teacherOrders\" :key=\"index\" class=\"order-item\" v-show=\"teacherCurrentTab === 2\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-student\">学生：{{ order.studentName }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"delete-btn\" @click=\"deleteOrder(order)\">删除订单</button>\n                </view>\n              </view>\n            </template>\n          </scroll-view>\n        </view>\n      </template>\n      \n      <!-- 学生：已取消tab内容 -->\n      <template v-slot:page4>\n        <view class=\"page-content\">\n          <scroll-view class=\"order-list\" scroll-y>\n            <template v-if=\"userRole === 'student'\">\n              <view v-for=\"(order, index) in orders\" :key=\"index\" class=\"order-item\" v-show=\"currentTab === 3\">\n                <text class=\"order-time\">{{ order.time }}</text>\n                <view class=\"order-content\">\n                  <view class=\"avatar-container\">\n                    <view class=\"avatar-circle\">\n                      <image :src=\"'/static/image/style_for_pages/avatar.png'\" class=\"avatar-image\"></image>\n                    </view>\n                  </view>\n                  <view class=\"order-info\">\n                    <text class=\"order-title\">{{ order.title }}</text>\n                    <text class=\"order-teacher\">授课教师：{{ order.teacherName || '暂无' }}</text>\n                    <text class=\"order-type\">服务类型：一对一课程</text>\n                  </view>\n                </view>\n                <view class=\"order-price-container\">\n                  <text class=\"order-price-label\">¥</text>\n                  <text class=\"order-price\">{{ order.price }}</text>\n                </view>\n                <view class=\"order-footer\">\n                  <button class=\"delete-btn\" @click=\"deleteOrder(order)\">删除订单</button>\n                </view>\n              </view>\n            </template>\n          </scroll-view>\n        </view>\n      </template>\n    </top-navbar>\n\n    <!-- 取消订单确认弹窗 -->\n    <view class=\"modal\" v-if=\"showCancelModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-title\">\n          <text>确认取消订单</text>\n        </view>\n        <view class=\"modal-body\">\n          <text>取消后订单将无法恢复。</text>\n          <text>确认取消吗？</text>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn cancel\" @click=\"showCancelModal = false\">再想想</button>\n          <button class=\"modal-btn confirm\" @click=\"confirmCancel\">确认取消</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 支付确认弹窗 -->\n    <view class=\"modal\" v-if=\"showPayModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-title\">\n          <text>微信支付</text>\n        </view>\n        <view class=\"modal-body\">\n          <text class=\"price-text\">支付金额：¥{{currentOrder?.price}}</text>\n          <view class=\"payment-wrapper\">\n            <view class=\"payment-info\">\n              <view class=\"payment-icon wechat\">\n                <text class=\"icon-text\">微</text>\n              </view>\n              <text class=\"payment-name\">微信支付</text>\n            </view>\n          </view>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn cancel\" @click=\"showPayModal = false\">取消</button>\n          <button class=\"modal-btn confirm\" @click=\"confirmPay\">确认支付</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 查看详情弹窗 -->\n    <view class=\"modal\" v-if=\"showDetailModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-title\">\n          <text>订单详情</text>\n        </view>\n        <view class=\"modal-body\">\n          <view class=\"detail-item\">\n            <text class=\"detail-label\">订单时间：</text>\n            <text class=\"detail-value\">{{ currentOrder?.time }}</text>\n          </view>\n          <view class=\"detail-item\">\n            <text class=\"detail-label\">课程名称：</text>\n            <text class=\"detail-value\">{{ currentOrder?.title }}</text>\n          </view>\n          <view class=\"detail-item\">\n            <text class=\"detail-label\">订单金额：</text>\n            <text class=\"detail-value\">¥{{ currentOrder?.price }}</text>\n          </view>\n          <view class=\"detail-item\">\n            <text class=\"detail-label\">订单状态：</text>\n            <text class=\"detail-value\">{{ currentOrder?.status }}</text>\n          </view>\n          <view class=\"detail-item\" v-if=\"userRole === 'teacher' && currentOrder?.studentName\">\n            <text class=\"detail-label\">学生姓名：</text>\n            <text class=\"detail-value\">{{ currentOrder.studentName }}</text>\n          </view>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn confirm\" @click=\"closeDetailModal\">确定</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 删除确认弹窗 -->\n    <view class=\"modal\" v-if=\"showDeleteModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-title\">\n          <text>删除订单</text>\n        </view>\n        <view class=\"modal-body\">\n          <text>确认要删除该订单吗？</text>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn cancel\" @click=\"showDeleteModal = false\">取消</button>\n          <button class=\"modal-btn confirm\" @click=\"confirmDelete\">确认删除</button>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 确认订单弹窗（教师角色专用） -->\n    <view class=\"modal\" v-if=\"showConfirmOrderModal\">\n      <view class=\"modal-content\">\n        <view class=\"modal-title\">\n          <text>确认订单</text>\n        </view>\n        <view class=\"modal-body\">\n          <text>确认接受该订单吗？确认后将无法取消。</text>\n        </view>\n        <view class=\"modal-footer\">\n          <button class=\"modal-btn cancel\" @click=\"showConfirmOrderModal = false\">取消</button>\n          <button class=\"modal-btn confirm\" @click=\"confirmOrderAction\">确认接受</button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\n/**\n * @description 订单管理页面（通用）\n */\nimport { Navigator} from '@/router/Router.js';\nimport Header from '@/components/navigationTitleBar/header.vue';\nimport topNavbar from '@/components/top-navbar/top-navbar.vue';\n\nexport default {\n  components: {\n    Header,\n    topNavbar\n  },\n  data() {\n    return {\n      userRole: 'student', // 默认为学生角色\n      userName: '',\n      userData: {},\n      isLoggedIn: false,\n      \n      // Tab栏配置\n      currentTab: 0,\n      tabs: ['待支付', '已支付','已完成', '已取消'],\n      // 老师tab配置\n      teacherCurrentTab: 0,\n      teacherTabs: ['待服务', '已完成', '已取消'],\n      // 学生订单列表\n      orders: [\n        {\n          id: '1001',\n          time: '2024-03-20 14:30',\n          status: '待支付',\n          title: '课程A - 一对一辅导',\n          price: '299.00',\n          teacherName: '张老师'\n        },\n        {\n          id: '1002',\n          time: '2024-03-19 10:15',\n          status: '已完成',\n          title: '课程B - 小组课程',\n          price: '199.00',\n          teacherName: '李老师'\n        },\n        {\n          id: '1003',\n          time: '2024-03-18 16:45',\n          status: '已取消',\n          title: '课程C - 专项训练',\n          price: '399.00',\n          teacherName: '王老师'\n        }\n      ],\n      \n      // 教师订单列表\n      teacherOrders: [\n        {\n          id: '2001',\n          time: '2024-03-21 15:30',\n          status: '待确认',\n          title: '高数辅导 - 一对一',\n          price: '350.00',\n          studentName: '张三'\n        },\n        {\n          id: '2002',\n          time: '2024-03-20 09:00',\n          status: '进行中',\n          title: '英语口语 - 一对一',\n          price: '280.00',\n          studentName: '李四'\n        },\n        {\n          id: '2003',\n          time: '2024-03-15 16:30',\n          status: '已完成',\n          title: '物理辅导 - 一对一',\n          price: '320.00',\n          studentName: '王五'\n        }\n      ],\n      \n      // 弹窗控制\n      showCancelModal: false,\n      showPayModal: false,\n      showDetailModal: false,\n      showDeleteModal: false,\n      showConfirmOrderModal: false,\n      \n      // 当前操作的订单\n      currentOrder: null,\n      \n      // 微信支付相关\n      wxPayUrl: 'https://api.mch.weixin.qq.com/pay/unifiedorder', // 微信支付统一下单接口\n      \n      // 支付方式\n      isPaymentDropdownOpen: false,\n      selectedPayment: 0,\n      paymentMethods: [\n        {\n          name: '支付宝支付',\n          icon: '支',\n          type: 'alipay'\n        },\n        {\n          name: '微信支付',\n          icon: '微',\n          type: 'wechat'\n        },\n        {\n          name: '银行卡支付',\n          icon: '卡',\n          type: 'bank'\n        }\n      ]\n    }\n  },\n  computed: {\n    /**\n     * @description 根据用户角色返回不同的Tab标签\n     */\n    currentTabs() {\n      return this.userRole === 'teacher' ? this.teacherTabs : this.tabs;\n    }\n  },\n  onLoad() {\n    // 初始化数据\n  },\n  onShow() {\n    // 使用 nextTick 确保数据更新\n    this.$nextTick(() => {\n      this.loadUserData();\n      const storedUserRole = uni.getStorageSync('userRole');\n      if (storedUserRole && storedUserRole !== this.userRole) {\n        this.userRole = storedUserRole;\n        this.loadOrderData();\n      }\n    });\n  },\n  methods: {\n    /**\n     * @description 处理导航栏标签变化\n     * @param {Number} index 新的tab索引\n     */\n    onTabChange(index) {\n      uni.__f__('log','at pagesMine/order/order_common.vue:478','切换到标签:', index);\n      if (this.userRole === 'teacher') {\n        this.teacherCurrentTab = index;\n      } else {\n        this.currentTab = index;\n      }\n      // 根据tab加载不同数据\n      this.loadOrderData();\n    },\n    \n    /**\n     * @description 加载用户数据\n     */\n    loadUserData() {\n      // 检查登录状态\n      const token = uni.getStorageSync('token');\n      this.isLoggedIn = !!token;\n      \n      if (this.isLoggedIn) {\n        // 获取用户信息\n        const userInfo = uni.getStorageSync('userInfo');\n        if (userInfo) {\n          try {\n            this.userData = typeof userInfo === 'string' ? JSON.parse(userInfo) : userInfo;\n            this.userName = this.userData.nickname || '用户';\n            \n            // 如果存储中有用户角色，使用存储的角色\n            if (this.userData.role) {\n              this.userRole = this.userData.role;\n              // 同步更新到storage\n              uni.setStorageSync('userRole', this.userData.role);\n            }\n          } catch (e) {\n            uni.__f__('error','at pagesMine/order/order_common.vue:511','解析用户信息失败:', e);\n          }\n        }\n      } else {\n        this.userData = {};\n        this.userName = '';\n        // 未登录时默认显示学生界面\n        this.userRole = 'student';\n      }\n    },\n    \n    /**\n     * @description 加载订单数据\n     */\n    loadOrderData() {\n      // 这里可以根据角色从API加载不同的订单数据\n      // 目前使用模拟数据\n      uni.__f__('log','at pagesMine/order/order_common.vue:528',`加载${this.userRole}角色的订单数据`);\n    },\n    \n    /**\n     * @description 切换标签页 (兼容旧代码)\n     * @param {Number} index 标签索引\n     */\n    switchTab(index) {\n      this.onTabChange(index);\n    },\n    \n    /**\n     * @description 取消订单\n     * @param {Object} order 订单对象\n     */\n    cancelOrder(order) {\n      this.currentOrder = order;\n      this.showCancelModal = true;\n    },\n    \n    /**\n     * @description 确认取消订单\n     */\n    confirmCancel() {\n      // 这里实现取消订单的具体逻辑\n      uni.showToast({\n        title: '订单已取消',\n        icon: 'success'\n      });\n      this.showCancelModal = false;\n      // 可以在这里更新订单状态或重新加载订单列表\n    },\n    \n    /**\n     * @description 支付订单\n     * @param {Object} order 订单对象\n     */\n    payOrder(order) {\n      this.currentOrder = order;\n      this.showPayModal = true;\n    },\n    \n    /**\n     * @description 切换支付方式下拉菜单\n     */\n    togglePaymentDropdown() {\n      this.isPaymentDropdownOpen = !this.isPaymentDropdownOpen;\n    },\n    \n    /**\n     * @description 选择支付方式\n     * @param {Number} index 支付方式索引\n     */\n    selectPayment(index) {\n      this.selectedPayment = index;\n      setTimeout(() => {\n        this.isPaymentDropdownOpen = false;\n      }, 200);\n    },\n    \n    /**\n     * @description 确认支付\n     */\n    confirmPay() {\n      uni.showLoading({\n        title: '跳转支付...'\n      });\n      \n      // 调用微信支付接口\n      setTimeout(() => {\n        uni.hideLoading();\n        \n        // 这里是实际项目中调用微信支付的地方\n        uni.__f__('log','at pagesMine/order/order_common.vue:601','调用微信支付接口，支付地址:', this.wxPayUrl);\n        uni.__f__('log','at pagesMine/order/order_common.vue:602','订单信息:', this.currentOrder);\n        \n        // 在实际开发中，这里应该调用后端API获取微信支付参数，然后调用微信支付\n        /*\n        uni.requestPayment({\n          provider: 'wxpay',\n          orderInfo: {\n            // 从服务器获取的支付参数\n            appid: 'wx123456789',\n            noncestr: 'noncestr',\n            package: 'Sign=WXPay',\n            partnerid: '10000100',\n            prepayid: 'wx201410272009395522657a690389285100',\n            timestamp: '1414488539',\n            sign: 'C380BEC2BFD727A4B6845133519F3AD6'\n          },\n          success: (res) => {\n            // 支付成功\n            this.paySuccess();\n          },\n          fail: (err) => {\n            // 支付失败\n            this.payFail(err);\n          }\n        });\n        */\n        \n        // 模拟支付成功\n        this.paySuccess();\n      }, 1500);\n    },\n    \n    // 支付成功\n    paySuccess() {\n      this.showPayModal = false;\n      uni.showToast({\n        title: '支付成功',\n        icon: 'success'\n      });\n      // 刷新订单列表\n      this.loadOrders();\n    },\n    \n    // 支付失败\n    payFail(err) {\n      this.showPayModal = false;\n      uni.showToast({\n        title: '支付失败',\n        icon: 'none'\n      });\n      uni.__f__('error','at pagesMine/order/order_common.vue:652','支付失败:', err);\n    },\n    \n    /**\n     * @description 查看订单详情\n     * @param {Object} order 订单对象\n     */\n    viewDetail(order) {\n      this.currentOrder = order;\n      this.showDetailModal = true;\n    },\n    \n    /**\n     * @description 关闭详情弹窗\n     */\n    closeDetailModal() {\n      this.showDetailModal = false;\n      this.currentOrder = null;\n    },\n    \n    /**\n     * @description 删除订单\n     * @param {Object} order 订单对象\n     */\n    deleteOrder(order) {\n      this.currentOrder = order;\n      this.showDeleteModal = true;\n    },\n    \n    /**\n     * @description 确认删除订单\n     */\n    confirmDelete() {\n      uni.showToast({\n        title: '删除成功',\n        icon: 'success'\n      });\n      this.showDeleteModal = false;\n      // 这里可以添加实际的删除逻辑\n    },\n    \n    /**\n     * @description 跳转到评价页面\n     * @param {Object} order 订单对象\n     */\n    goToAppraise(order) {\n      // 跳转到评价页面\n      Navigator.toAppraise(order.id);\n    },\n      goBack() {\n      Navigator.toMine()\n    },\n    /**\n     * @description 教师确认订单\n     * @param {Object} order 订单对象\n     */\n    confirmOrder(order) {\n      this.currentOrder = order;\n      this.showConfirmOrderModal = true;\n    },\n    \n    /**\n     * @description 教师确认接受订单操作\n     */\n    confirmOrderAction() {\n      uni.showToast({\n        title: '已接受订单',\n        icon: 'success'\n      });\n      this.showConfirmOrderModal = false;\n      // 这里可以添加实际的接受订单逻辑\n    }\n  }\n}\n</script>\n\n<style>\n.header-container {\n  width: 100%;\n  height: 200rpx;\n  display: flex;\n  align-items: flex-end;\n  background: linear-gradient(135deg, #f5f9ff, #edf3ff);\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: linear-gradient(135deg, #f5f9ff, #edf3ff);\n  font-family: \"PingFang SC\", \"Helvetica Neue\", Arial, sans-serif;\n}\n\n.page-content {\n  padding: 10rpx 30rpx;\n  position: relative;\n  z-index: 10;\n}\n\n.order-list {\n  height: calc(100vh - 150rpx);\n  margin-top: 5rpx;\n}\n\n.order-item {\n  display: flex;\n  flex-direction: column;\n  border-radius: 16px;\n  margin-bottom: 20rpx;\n  position: relative;\n   height: 250rpx;\n  padding: 15rpx 30rpx 60rpx 30rpx;\n  box-sizing: border-box;\n  overflow: visible;\n}\n\n.order-time {\n  position: absolute;\n  top: 15rpx;\n  left: 30rpx;\n  font-size: 24rpx;\n  color: #2288F9;\n  font-weight: 400;\n}\n\n.order-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 40rpx;\n  padding: 2rpx;\n  background: linear-gradient(180deg, rgba(228, 241, 255, 1) 0%, rgba(34, 136, 249, 1) 100%);\n  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);\n  -webkit-mask-composite: xor;\n  mask-composite: exclude;\n  pointer-events: none;\n}\n\n.order-item::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 40rpx;\n  pointer-events: none;\n  background: linear-gradient(180deg, rgba(194, 221, 250, 0.2) 11.54%, rgba(34, 136, 249, 0.2) 111.54%);\n  z-index: 1;\n}\n\n.order-content {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 45rpx;\n  margin-bottom: 5rpx;\n  position: relative;\n  z-index: 2;\n  width: 100%;\n}\n\n.avatar-container {\n  width: 160rpx;\n  height: 160rpx;\n  margin-right: 30rpx;\n  position: relative;\n  z-index: 2;\n  flex-shrink: 0;\n  padding: 0;\n  margin-left: 0;\n  border: none;\n}\n\n.avatar-circle {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 15rpx;\n  background-color: #f0f0f0;\n  overflow: hidden;\n  flex-shrink: 0;\n  box-shadow: 0 6rpx 15rpx rgba(0, 0, 0, 0.1);\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.avatar-text {\n  font-size: 36rpx;\n  color: #666666;\n}\n\n.order-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0;\n  padding-left: 15rpx;\n  margin-top: 5rpx;\n  position: relative;\n  z-index: 2;\n}\n\n.order-title {\n  font-family: 'PingFang SC', sans-serif;\n  font-weight: 600;\n  font-size: 27rpx;\n  margin-bottom: 10rpx;\n  color: #333;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: -0.55px;\n  text-align: left;\n}\n\n.order-teacher, .order-student, .order-type {\n  font-size: 20rpx;\n  color: #000000;\n  font-weight: 500;\n  font-family: 'PingFang SC', sans-serif;\n  margin-bottom: 4rpx;\n  line-height: 1.2;\n  text-align: left;\n  padding: 2rpx 0;\n}\n\n.order-price-container {\n  position: relative;\n  bottom:65rpx;\n  right:20rpx;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  height: rpx;\n  margin-top: 10rpx;\n  z-index: 2;\n}\n\n.order-price-label {\n  position: relative;  \n  font-size: 25rpx;\n  color: #464EF8;\n  position: relative;\n  z-index: 2;\n}\n\n.order-price {\n  position: relative;\n  font-size: 25rpx;\n  color: #464EF8;\n  font-weight: bold;\n  position: relative;\n  z-index: 2;\n}\n\n.order-footer {\n  position: relative;\n  bottom: 85rpx;\n  left: 30rpx;\n  width: 100%;\n  height: 80rpx;\n  z-index: 50;\n  margin-top: 5rpx;\n}\n\n.button-group {\n  position: static;\n  width: 100%;\n  height: 60rpx;\n}\n\n.cancel-btn, .pay-btn, .confirm-btn, .appraise-btn, .detail-btn, .delete-btn {\n  border-radius: 10rpx ;\n  padding: 0 30rpx ;\n  height: 40rpx ;\n  width: 140rpx;\n  line-height: 40rpx ;\n  font-size: 18rpx ;\n  font-weight: 400 ;\n  z-index: 100 ;\n}\n\n.cancel-btn {\n  position: absolute !important;\n  right: 180rpx !important;\n  bottom: 20rpx !important;\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n  background-image: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  border: none !important;\n  border-width: 0 !important;\n  border-color: transparent !important;\n  border-style: none !important;\n}\n\n.pay-btn {\n  position: absolute !important;\n  right: 30rpx !important;\n  bottom: 20rpx !important;\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n}\n\n.confirm-btn {\n  position: absolute !important;\n  right: 30rpx !important;\n  bottom: 20rpx !important;\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  background-image: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n}\n\n.appraise-btn, .detail-btn, .delete-btn {\n  position: absolute !important;\n  right: 30rpx !important;\n  bottom: 20rpx !important;\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n}\n\n.appraise-btn {\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n  border-width: 0 !important;\n  border-color: transparent !important;\n  border-style: none !important;\n  background-image: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n}\n\n.detail-btn {\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n  border-width: 0 !important;\n  border-color: transparent !important;\n  border-style: none !important;\n  background-image: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n}\n\n.delete-btn {\n  background: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n  color: white !important;\n  border-width: 0 !important;\n  border-color: transparent !important;\n  border-style: none !important;\n  background-image: linear-gradient(to bottom, #A5A9F7, #464EF8) !important;\n}\n\n.cancel-btn:active, .pay-btn:active, .confirm-btn:active, .appraise-btn:active, .detail-btn:active, .delete-btn:active {\n  transform: scale(0.95);\n  box-shadow: 0 3rpx 10rpx rgba(122, 95, 190, 0.3);\n}\n\n/* 弹窗样式 */\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n}\n\n.modal-content {\n  width: 560rpx;\n  background-color: #ffffff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  border: 2rpx solid #e0e0e0;\n  box-shadow: 0 4rpx 24rpx rgba(0,0,0,0.08);\n  position: relative;\n  z-index: 10000;\n}\n\n.modal-title {\n  text-align: center;\n  margin-bottom: 30rpx;\n}\n\n.modal-title text {\n  font-size: 32rpx;\n  font-weight: 500;\n  color: #333333;\n}\n\n.modal-body {\n  margin-bottom: 30rpx;\n}\n\n.modal-body text {\n  font-size: 28rpx;\n  color: #666666;\n  text-align: center;\n}\n\n.modal-footer {\n  margin-top: 30rpx;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.modal-btn {\n  width: 180rpx;\n  height: 70rpx;\n  line-height: 70rpx;\n  text-align: center;\n  border-radius: 35rpx;\n  font-size: 28rpx;\n  margin: 0 15rpx;\n}\n\n.modal-btn.cancel {\n  background-color: #f5f5f5;\n  color: #666666;\n}\n\n.modal-btn.confirm {\n  background-color: #07C160;\n  color: #ffffff;\n}\n\n.modal-btn.confirm:active {\n  background-color: #06ad56;\n}\n\n/* 支付选择器样式 */\n.payment-selector {\n  margin-top: 30rpx;\n}\n\n.payment-title {\n  font-size: 28rpx;\n  color: #333333;\n  margin-bottom: 20rpx;\n  padding: 0 30rpx;\n}\n\n.payment-dropdown {\n  position: relative;\n  margin: 0 30rpx;\n}\n\n.selected-payment {\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 24rpx;\n  background-color: #f8f8f8;\n  border-radius: 12rpx;\n  border: 2rpx solid #eeeeee;\n}\n\n.selected-payment.active {\n  border-color: #007AFF;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.payment-info {\n  flex-direction: row;\n  align-items: center;\n}\n\n.payment-icon {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 8rpx;\n  margin-right: 16rpx;\n  justify-content: center;\n  align-items: center;\n}\n\n.icon-text {\n  color: #ffffff;\n  font-size: 24rpx;\n  font-weight: bold;\n}\n\n.alipay {\n  background: linear-gradient(135deg, #1677FF, #0091FF);\n}\n\n.wechat {\n  background: linear-gradient(135deg, #07C160, #10D574);\n}\n\n.bank {\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n}\n\n.payment-name {\n  font-size: 28rpx;\n  color: #333333;\n}\n\n.dropdown-arrow {\n  font-size: 24rpx;\n  color: #999999;\n  transition: transform 0.3s;\n}\n\n.arrow-up {\n  transform: rotate(180deg);\n}\n\n.payment-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: #ffffff;\n  border: 2rpx solid #007AFF;\n  border-top: none;\n  border-bottom-left-radius: 12rpx;\n  border-bottom-right-radius: 12rpx;\n  transform: scaleY(0);\n  transform-origin: top;\n  transition: all 0.3s ease;\n  opacity: 0;\n  z-index: 100;\n}\n\n.payment-options.show {\n  transform: scaleY(1);\n  opacity: 1;\n}\n\n.payment-option {\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 24rpx;\n  border-bottom: 2rpx solid #eeeeee;\n}\n\n.payment-option:last-child {\n  border-bottom: none;\n}\n\n.payment-option.selected {\n  background-color: #f0f9ff;\n}\n\n.check-icon {\n  font-size: 32rpx;\n  color: #007AFF;\n  font-weight: bold;\n}\n\n/* 详情弹窗样式 */\n.detail-item {\n  flex-direction: row;\n  margin-bottom: 20rpx;\n}\n\n.detail-label {\n  width: 160rpx;\n  font-size: 28rpx;\n  color: #666666;\n}\n\n.detail-value {\n  flex: 1;\n  font-size: 28rpx;\n  color: #333333;\n}\n\n/* 小按钮样式 */\n\n/* 支付弹窗样式补充 */\n.price-text {\n  font-size: 36rpx;\n  color: #FF6B6B;\n  font-weight: bold;\n  text-align: center;\n  display: block;\n  margin-bottom: 30rpx;\n}\n\n.payment-wrapper {\n  padding: 0 20rpx;\n  margin-bottom: 20rpx;\n}\n</style>","import MiniProgramPage from '/Users/ghw/Documents/waibao/yanshilu_ui/pagesMine/order/order_common.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","Navigator"],"mappings":"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"}